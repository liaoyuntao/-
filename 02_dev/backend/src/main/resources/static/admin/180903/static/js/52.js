webpackJsonp([52,116],{eOvy:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("GtTZ"),i=a("nDrS"),o=a("pvn0"),s={components:{seek:n.a,tablefield:i.a,schedulejoblog:o.default},data:function(){return{model:"job",pathUrl:"schedulejob",busConfig:this.busConfig,tableFieldMap:this.tableFieldMap,sysurl:window.SITE_CONFIG.baseUrl,dataForm:{},dataListSelections:[],operation:[],saveForm:{id:0,url:"",remarks:"",versionNo:"",createBy:"",createTime:"",updateBy:"",updateTime:"",deleteFlag:"",sort:""},schedulejoblog:!1}},activated:function(){this.getDataList()},methods:{addOrUpdateHandle:function(){var t=this;this.$nextTick(function(){t.$refs.tablefield.addOrUpdateHandle()})},deleteHandle:function(){var t=this;this.$nextTick(function(){t.$refs.tablefield.deleteHandle()})},setListSelections:function(t){this.dataListSelections=t},getDataList:function(){var t=this;this.$nextTick(function(){t.$refs.tablefield.getDataList()})},pauseHandle:function(t){var e=this,a=t?[t]:this.dataListSelections.map(function(t){return t.jobId});this.$confirm("确定对[id="+a.join(",")+"]进行["+(t?"暂停":"批量暂停")+"]操作?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){API.schedulejob.pause(a).then(function(t){var a=t.data;a&&0===a.code?e.$message({message:"操作成功",type:"success",duration:1500,onClose:function(){e.getDataList()}}):e.$message.error(a.msg)})})},resumeHandle:function(t){var e=this,a=t?[t]:this.dataListSelections.map(function(t){return t.jobId});this.$confirm("确定对[id="+a.join(",")+"]进行["+(t?"恢复":"批量恢复")+"]操作?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){API.schedulejob.resume(a).then(function(t){var a=t.data;a&&0===a.code?e.$message({message:"操作成功",type:"success",duration:1500,onClose:function(){e.getDataList()}}):e.$message.error(a.msg)})})},runHandle:function(t){var e=this,a=t?[t]:this.dataListSelections.map(function(t){return t.jobId});this.$confirm("确定对[id="+a.join(",")+"]进行["+(t?"立即执行":"批量立即执行")+"]操作?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){API.schedulejob.run(a).then(function(t){var a=t.data;a&&0===a.code?e.$message({message:"操作成功",type:"success",duration:1500,onClose:function(){e.getDataList()}}):e.$message.error(a.msg)})})},logHandle:function(){var t=this;this.schedulejoblog=!0,this.$nextTick(function(){t.$refs.schedulejoblog.init()})}}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mod-config"},[a("el-form",{staticStyle:{"margin-bottom":"60px"},attrs:{inline:!0,model:t.dataForm},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.getDataList()}}},[a("seek",{ref:"seek",attrs:{dataForm:t.dataForm,pathUrl:t.pathUrl},on:{"update:dataForm":function(e){t.dataForm=e}}}),t._v(" "),a("div",{staticStyle:{float:"right"}},[a("el-button",{on:{click:function(e){t.getDataList()}}},[t._v("查询")]),t._v(" "),t.isAuth(t.model+":"+t.pathUrl+":save")?a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.addOrUpdateHandle()}}},[t._v("新增")]):t._e(),t._v(" "),t.isAuth(t.model+":"+t.pathUrl+":delete")?a("el-button",{attrs:{type:"danger",disabled:t.dataListSelections.length<=0},on:{click:function(e){t.deleteHandle()}}},[t._v("批量删除")]):t._e(),t._v(" "),t.isAuth("job:schedulejob:pause")?a("el-button",{attrs:{type:"danger",disabled:t.dataListSelections.length<=0},on:{click:function(e){t.pauseHandle()}}},[t._v("批量暂停")]):t._e(),t._v(" "),t.isAuth("job:schedulejob:resume")?a("el-button",{attrs:{type:"danger",disabled:t.dataListSelections.length<=0},on:{click:function(e){t.resumeHandle()}}},[t._v("批量恢复")]):t._e(),t._v(" "),t.isAuth("job:schedulejob:run")?a("el-button",{attrs:{type:"danger",disabled:t.dataListSelections.length<=0},on:{click:function(e){t.runHandle()}}},[t._v("批量立即执行")]):t._e(),t._v(" "),a("el-button",{attrs:{type:"success"},on:{click:function(e){t.logHandle()}}},[t._v("日志列表")])],1)],1),t._v(" "),a("tablefield",{ref:"tablefield",attrs:{pathUrl:t.pathUrl,saveForm:t.saveForm,dataForm:t.dataForm,setListSelections:t.setListSelections,model:t.model,operation:t.operation},on:{"update:dataForm":function(e){t.dataForm=e},"update:operation":function(e){t.operation=e}}}),t._v(" "),a("el-dialog",{attrs:{title:"日志列表",visible:t.schedulejoblog,width:"75%",modal:!1},on:{"update:visible":function(e){t.schedulejoblog=e}}},[t.schedulejoblog?a("schedulejoblog",{ref:"schedulejoblog",on:{refreshDataList:t.getDataList}}):t._e()],1)],1)},staticRenderFns:[]},r=a("VU/8")(s,l,!1,null,null,null);e.default=r.exports},pvn0:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("GtTZ"),i=a("nDrS"),o={components:{seek:n.a,tablefield:i.a},data:function(){return{model:"job",pathUrl:"schedulejoblog",busConfig:this.busConfig,tableFieldMap:this.tableFieldMap,sysurl:window.SITE_CONFIG.baseUrl,dataForm:{},dataListSelections:[],operation:[],saveForm:{id:0,dataKey:"",value:"",status:"",remarks:"",versionNo:"",createBy:"",createTime:"",updateBy:"",updateTime:"",deleteFlag:"",sort:""}}},activated:function(){this.getDataList()},methods:{init:function(){this.getDataList()},deleteHandle:function(){var t=this;this.$nextTick(function(){t.$refs.tablefield.deleteHandle()})},addOrUpdateHandle:function(){var t=this;this.$nextTick(function(){t.$refs.tablefield.addOrUpdateHandle()})},setListSelections:function(t){this.dataListSelections=t},getDataList:function(){var t=this;this.$nextTick(function(){t.$refs.tablefield.getDataList()})}}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mod-config"},[a("el-form",{staticStyle:{"margin-bottom":"60px"},attrs:{inline:!0,model:t.dataForm},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.getDataList()}}},[a("seek",{ref:"seek",attrs:{dataForm:t.dataForm,pathUrl:t.pathUrl},on:{"update:dataForm":function(e){t.dataForm=e}}}),t._v(" "),a("div",{staticStyle:{float:"right"}},[a("el-button",{on:{click:function(e){t.getDataList()}}},[t._v("查询")]),t._v(" "),t.isAuth(t.model+":"+t.pathUrl+":save")?a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.addOrUpdateHandle()}}},[t._v("新增")]):t._e(),t._v(" "),t.isAuth(t.model+":"+t.pathUrl+":delete")?a("el-button",{attrs:{type:"danger",disabled:t.dataListSelections.length<=0},on:{click:function(e){t.deleteHandle()}}},[t._v("批量删除")]):t._e()],1)],1),t._v(" "),a("tablefield",{ref:"tablefield",attrs:{pathUrl:t.pathUrl,saveForm:t.saveForm,dataForm:t.dataForm,setListSelections:t.setListSelections,model:t.model,operation:t.operation},on:{"update:dataForm":function(e){t.dataForm=e},"update:operation":function(e){t.operation=e}}})],1)},staticRenderFns:[]},l=a("VU/8")(o,s,!1,null,null,null);e.default=l.exports}});