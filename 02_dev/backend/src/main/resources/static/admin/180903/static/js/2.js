webpackJsonp([2,30,122],{"8H9y":function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,"\n.el-header {\n  background-color: #B3C0D1;\n  color: #333;\n  line-height: 60px;\n}\n.el-aside {\n  color: #333;\n}\n",""])},D2Cb:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("gyMJ"),i={data:function(){return{templateList:[],textarea3:"",tableId:0}},components:{API:n.a},methods:{init:function(t){var e=this;this.tableId=t,n.a.generatortemplate.queryGeneratorTemplateList().then(function(t){var a=t.data;e.templateList=a.data,e.templateList.length>0&&e.handleOpen(e.templateList[0].id)})},handleOpen:function(t){var e=this;n.a.generatortable.preview({tableId:this.tableId,templateId:t}).then(function(t){var a=t.data;0===a.code?e.textarea3=a.data:e.textarea3="模板异常"})}}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mod-config"},[a("el-container",{staticStyle:{height:"500px",border:"1px solid #eee"}},[a("el-aside",{staticStyle:{"background-color":"rgb(238, 241, 246)"},attrs:{width:"200px"}},[a("el-menu",{attrs:{"default-active":t.templateList[0].id+""},on:{open:t.handleOpen}},t._l(t.templateList,function(e){return a("el-menu-item",{attrs:{index:e.id+""},domProps:{textContent:t._s(e.remark)},on:{click:function(a){t.handleOpen(e.id)}}})}))],1),t._v(" "),a("el-container",[a("el-main",[a("el-input",{attrs:{type:"textarea",autosize:{minRows:21,maxRows:20},placeholder:"请输入内容",disabled:!0},model:{value:t.textarea3,callback:function(e){t.textarea3=e},expression:"textarea3"}})],1)],1)],1)],1)},staticRenderFns:[]};var r=a("VU/8")(i,o,!1,function(t){a("HDRV")},null,null);e.default=r.exports},HDRV:function(t,e,a){var n=a("8H9y");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a("rjj0")("2a94da2e",n,!0)},J5ym:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("mvHQ"),i=a.n(n),o=a("gyMJ"),r=a("GtTZ"),l=a("aqiG"),s=a("D2Cb"),d=a("nDrS"),c={components:{seek:r.a,tablefield:d.a,generatortablefield:l.default,preview:s.default},data:function(){return{dataForm:{},model:"generator",pathUrl:"generatortable",dataListSelections:[],generatortablefield:!1,preview:!1,operation:[{scope:"delete",fun:this.queryField,name:"字段列表"},{scope:"delete",fun:this.queryPreviw,name:"模板预览"},{scope:"delete",fun:this.synchronizationStructure,name:"结构同步"}],saveForm:{parentKey:"",tableComment:"",treeKey:"",remarks:"",treeFieldName:"",id:0,tableName:"",levelKey:"",modulesId:"",versionNo:"",createBy:"",createTime:"",updateBy:"",updateTime:"",deleteFlag:"",sort:"",businessKey:"",isBusiness:"",businessValue:""}}},activated:function(){this.getDataList()},methods:{addAllOrUpdateHandle:function(){var t=this;this.$nextTick(function(){t.$refs.tablefield.addAllOrUpdateHandle()})},addOrUpdateHandle:function(){var t=this;this.$nextTick(function(){t.$refs.tablefield.addOrUpdateHandle()})},deleteHandle:function(){var t=this;this.$nextTick(function(){t.$refs.tablefield.deleteHandle()})},setListSelections:function(t){this.dataListSelections=t},init:function(t){this.dataForm.tableId=t,this.getDataList()},getDataList:function(){var t=this;this.$nextTick(function(){t.$refs.tablefield.getDataList()})},generate:function(t){var e=t?[t]:this.dataListSelections.map(function(t){return t.id});this.$confirm("确定对[id="+e.join(",")+"]进行["+(t?"生成":"批量生成")+"]操作?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){location.href=window.SITE_CONFIG.baseUrl+"/generator/generatortable/generate?ids="+i()(e)})},queryField:function(t){var e=this;this.generatortablefield=!0,this.$nextTick(function(){e.$refs.generatortablefield.init(t.id)})},queryPreviw:function(t){var e=this;this.preview=!0,this.$nextTick(function(){e.$refs.preview.init(t.id)})},synchronizationStructure:function(t){var e=this;null!=t&&(t=t.id);var a=t?[t]:this.dataListSelections.map(function(t){return t.id});this.$confirm("确定对[id="+a.join(",")+"]进行["+(t?"结构同步":"批量结构同步")+"]操作?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){o.a[e.pathUrl].synchronizationStructure(a).then(function(t){var a=t.data;a&&0===a.code&&e.getDataList()})})}}},u={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mod-config"},[a("el-form",{staticStyle:{"margin-bottom":"60px"},attrs:{inline:!0,model:t.dataForm},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.getDataList()}}},[a("seek",{ref:"seek",attrs:{dataForm:t.dataForm,pathUrl:t.pathUrl},on:{"update:dataForm":function(e){t.dataForm=e}}}),t._v(" "),a("div",{staticStyle:{float:"right"}},[a("el-button",{on:{click:function(e){t.getDataList()}}},[t._v("查询")]),t._v(" "),t.isAuth(t.model+":"+t.pathUrl+":save")?a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.addOrUpdateHandle()}}},[t._v("新增")]):t._e(),t._v(" "),t.isAuth(t.model+":"+t.pathUrl+":save")?a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.addAllOrUpdateHandle()}}},[t._v("批量新增")]):t._e(),t._v(" "),t.isAuth(t.model+":"+t.pathUrl+":delete")?a("el-button",{attrs:{type:"danger",disabled:t.dataListSelections.length<=0},on:{click:function(e){t.deleteHandle()}}},[t._v("批量删除")]):t._e(),t._v(" "),t.isAuth(t.model+":"+t.pathUrl+":delete")?a("el-button",{attrs:{type:"danger",disabled:t.dataListSelections.length<=0},on:{click:function(e){t.synchronizationStructure()}}},[t._v("批量同步")]):t._e(),t._v(" "),a("el-button",{attrs:{type:"primary",disabled:t.dataListSelections.length<=0},on:{click:function(e){t.generate()}}},[t._v("生成")])],1)],1),t._v(" "),a("tablefield",{ref:"tablefield",attrs:{pathUrl:t.pathUrl,saveForm:t.saveForm,dataForm:t.dataForm,setListSelections:t.setListSelections,model:t.model,operation:t.operation},on:{"update:dataForm":function(e){t.dataForm=e},"update:operation":function(e){t.operation=e}}}),t._v(" "),a("el-dialog",{attrs:{title:"字段列表",visible:t.generatortablefield,"append-to-body":!0,"modal-append-to-body":!1,width:"75%"},on:{"update:visible":function(e){t.generatortablefield=e}}},[t.generatortablefield?a("generatortablefield",{ref:"generatortablefield",on:{refreshDataList:t.getDataList}}):t._e()],1),t._v(" "),a("el-dialog",{attrs:{title:"模板预览",visible:t.preview,width:"75%"},on:{"update:visible":function(e){t.preview=e}}},[t.preview?a("preview",{ref:"preview",on:{refreshDataList:t.getDataList}}):t._e()],1)],1)},staticRenderFns:[]},f=a("VU/8")(c,u,!1,null,null,null);e.default=f.exports},aqiG:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("gyMJ"),i=a("GtTZ"),o=a("nDrS"),r={components:{seek:i.a,tablefield:o.a},data:function(){return{model:"generator",pathUrl:"generatortablefield",busConfig:this.busConfig,tableFieldMap:this.tableFieldMap,sysurl:window.SITE_CONFIG.baseUrl,dataForm:{},dataListSelections:[],operation:[],saveForm:{}}},activated:function(){this.getDataList()},methods:{addAllOrUpdateHandle:function(){var t=this;this.$nextTick(function(){t.$refs.tablefield.addAllOrUpdateHandle()})},init:function(t){this.dataForm.tableId=t,this.saveForm.tableId=t,this.getDataList()},getDataList:function(){var t=this;this.$nextTick(function(){t.$refs.tablefield.getDataList()})},addOrUpdateHandle:function(){var t=this;this.$nextTick(function(){t.$refs.tablefield.addOrUpdateHandle()})},deleteHandle:function(){var t=this;this.$nextTick(function(){t.$refs.tablefield.deleteHandle()})},setListSelections:function(t){this.dataListSelections=t},hideTableField:function(t){var e=this,a=t?[t]:this.dataListSelections.map(function(t){return t.id});this.$confirm("确定对[id="+a.join(",")+"]进行["+(t?"隐藏":"批量隐藏")+"]操作?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){n.a.generatortablefield.hideTableField(a).then(function(t){var a=t.data;a&&0===a.code?e.$message({message:"操作成功",type:"success",duration:1500,onClose:function(){e.getDataList()}}):e.$message.error(a.msg)})})},hideSetField:function(t){var e=this,a=t?[t]:this.dataListSelections.map(function(t){return t.id});this.$confirm("确定对[id="+a.join(",")+"]进行["+(t?"隐藏":"批量隐藏")+"]操作?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){n.a.generatortablefield.hideSetField(a).then(function(t){var a=t.data;a&&0===a.code?e.$message({message:"操作成功",type:"success",duration:1500,onClose:function(){e.getDataList()}}):e.$message.error(a.msg)})})},showSeekField:function(t){var e=this,a=t?[t]:this.dataListSelections.map(function(t){return t.id});this.$confirm("确定对[id="+a.join(",")+"]进行["+(t?"隐藏":"批量显示")+"]操作?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){n.a.generatortablefield.showSeekField(a).then(function(t){var a=t.data;a&&0===a.code?e.$message({message:"操作成功",type:"success",duration:1500,onClose:function(){e.getDataList()}}):e.$message.error(a.msg)})})},showExportField:function(t){var e=this,a=t?[t]:this.dataListSelections.map(function(t){return t.id});this.$confirm("确定对[id="+a.join(",")+"]进行["+(t?"隐藏":"批量显示")+"]操作?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){n.a.generatortablefield.showExportField(a).then(function(t){var a=t.data;a&&0===a.code?e.$message({message:"操作成功",type:"success",duration:1500,onClose:function(){e.getDataList()}}):e.$message.error(a.msg)})})}}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mod-config"},[a("el-form",{staticStyle:{"margin-bottom":"60px"},attrs:{inline:!0,model:t.dataForm},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.getDataList()}}},[a("seek",{ref:"seek",attrs:{dataForm:t.dataForm,pathUrl:t.pathUrl},on:{"update:dataForm":function(e){t.dataForm=e}}}),t._v(" "),a("div",{staticStyle:{float:"right"}},[a("el-button",{on:{click:function(e){t.getDataList()}}},[t._v("查询")]),t._v(" "),t.isAuth(t.model+":"+t.pathUrl+":save")?a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.addOrUpdateHandle()}}},[t._v("新增")]):t._e(),t._v(" "),t.isAuth(t.model+":"+t.pathUrl+":save")?a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.addAllOrUpdateHandle()}}},[t._v("批量新增")]):t._e(),t._v(" "),t.isAuth(t.model+":"+t.pathUrl+":delete")?a("el-button",{attrs:{type:"danger",disabled:t.dataListSelections.length<=0},on:{click:function(e){t.deleteHandle()}}},[t._v("批量删除")]):t._e(),t._v(" "),a("el-button",{attrs:{type:"danger",disabled:t.dataListSelections.length<=0},on:{click:function(e){t.hideTableField()}}},[t._v("隐藏表格字段")]),t._v(" "),a("el-button",{attrs:{type:"danger",disabled:t.dataListSelections.length<=0},on:{click:function(e){t.hideSetField()}}},[t._v("隐藏修改字段")]),t._v(" "),a("el-button",{attrs:{type:"danger",disabled:t.dataListSelections.length<=0},on:{click:function(e){t.showSeekField()}}},[t._v("显示搜索字段")]),t._v(" "),a("el-button",{attrs:{type:"danger",disabled:t.dataListSelections.length<=0},on:{click:function(e){t.showExportField()}}},[t._v("显示导出字段")])],1)],1),t._v(" "),a("tablefield",{ref:"tablefield",attrs:{pathUrl:t.pathUrl,saveForm:t.saveForm,dataForm:t.dataForm,model:t.model,operation:t.operation,setListSelections:t.setListSelections},on:{"update:dataForm":function(e){t.dataForm=e},"update:operation":function(e){t.operation=e}}})],1)},staticRenderFns:[]},s=a("VU/8")(r,l,!1,null,null,null);e.default=s.exports}});